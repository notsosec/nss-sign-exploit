package signexploit;

import net.minecraft.client.Minecraft;
import net.minecraftforge.client.ClientCommandHandler;
import net.minecraftforge.common.MinecraftForge;
import net.minecraftforge.fml.common.Mod;
import net.minecraftforge.fml.common.event.FMLInitializationEvent;
import net.minecraftforge.fml.common.event.FMLPostInitializationEvent;
import net.minecraftforge.fml.common.event.FMLPreInitializationEvent;
import signexploit.commands.CommandSignExploit;
import signexploit.util.Reference;

@Mod(modid = Reference.MODID, name = Reference.NAME, version = Reference.VERSION)
public class SignExploit {

    public static boolean isEnabled = false;

    public static final String[] whitelistedUsers = {
            "Al2_",
            "Christolis",
            "DeZiMatorZ",
            "billpapat"
    };

    @Mod.EventHandler
    public void preInit(FMLPreInitializationEvent e) {

    }

    @Mod.EventHandler
    public void init(FMLInitializationEvent e) {
        MinecraftForge.EVENT_BUS.register(new SignEvent());
        ClientCommandHandler.instance.registerCommand(new CommandSignExploit());
    }

    @Mod.EventHandler
    public void postInit(FMLPostInitializationEvent e) {
    }

    /**
     * Checks if a player is allowed to use this exploit.
     *
     * @param player The player name.
     * @return If the player should use the mod.
     */
    public static boolean isPlayerAllowedToUseExploit(String player) {
        for (String players : whitelistedUsers) {
            if (players.toLowerCase().equals(Minecraft.getMinecraft().thePlayer.getName().toLowerCase())) return true;
        }
        return false;
    }
}
